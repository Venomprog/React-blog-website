{"version":3,"file":"static/js/534.ff800535.chunk.js","mappings":"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","sources":["components/comments/comments.jsx","pages/DetailArticle.jsx"],"sourcesContent":["import '../comments/comments.scss'\r\nimport { useState, useEffect } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { commentCreated } from '../articlesList/articlesSlice';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Comments = ({comments, articleId}) => {\r\n\r\n  const [name, setName] = useState('');\r\n  const [commentText, setCommentText] = useState('');\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  const {articles} = useSelector(state => state.articles);\r\n  let curComments = [];\r\n  if (!articles.length < 1) {\r\n    for (let i = 0; i < articles.length; i++){\r\n      if (articles[i].id === articleId){\r\n        curComments = articles[i].comments\r\n      }\r\n    }\r\n\r\n  } else {\r\n    curComments = false;\r\n  }\r\n  // const curComments = articles[articleId - 1].comments\r\n\r\n  useEffect(() => {\r\n    \r\n  })\r\n\r\n\r\n  const changeName = (e) => {\r\n    const value = e.target.value;\r\n    setName(value);\r\n  }\r\n  const changeCommentText = (e) => {\r\n    const value = e.target.value;\r\n    setCommentText(value);\r\n  }\r\n\r\n  const onSentForm = (e) => {\r\n    e.preventDefault();\r\n\r\n    const obj = {\r\n      id: articleId,\r\n      name: name,\r\n      text: commentText\r\n    }\r\n\r\n    dispatch(commentCreated(obj))\r\n  }\r\n\r\n  function renderComments (arr) {\r\n\r\n    if (arr.length < 1) return\r\n\r\n    return arr.map(({name, text}, i) => {\r\n      return  (\r\n        <div className=\"comments-list__comment\"  key={i}>\r\n          <div className=\"comments-list__comment-name\">{name}</div>\r\n          <div className=\"comments-list__comment-text\">{text}</div>\r\n        </div>\r\n      )\r\n        \r\n    })\r\n  }\r\n\r\n\r\n  const elements = curComments ?  renderComments(curComments) : <div>Комментарии не могут быть сейчас загружены, попробуйте вернуться на главную</div>\r\n  const addCommentClass = curComments ? 'comments-add' : 'd-none'\r\n\r\n  return (\r\n    <div className=\"comments\">\r\n      <div className=\"comments-list\">\r\n        <h2 className=\"comments-list__title\">Комментарии к статье:</h2>\r\n        <div className=\"comments-list__content\">\r\n          {elements}\r\n        </div>\r\n      </div>\r\n      <form className={addCommentClass} onSubmit={onSentForm}>\r\n        <h3 className='comments-add__title comments-list__title'>Оставить свой комментарий</h3>\r\n        <div className='comments-add__row'>\r\n          <input \r\n            className='comments-add__input' \r\n            type=\"text\" \r\n            required\r\n            name=\"name\" \r\n            id=\"name\" \r\n            placeholder=\"Ваше имя/никнейм?\"\r\n            value={name}\r\n            onChange={changeName}\r\n          />\r\n          <textarea \r\n            className='comments-add__input .long-text'\r\n            type=\"text\" \r\n            required\r\n            name=\"commentText\" \r\n            id=\"commentText\" \r\n            placeholder=\"Ваш комментарий?\"\r\n            value={commentText}\r\n            onChange={changeCommentText}\r\n          />\r\n        </div>\r\n        <button className='comments-add__btn' type='submit'>\r\n          Отправить\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Comments","import { useLocation } from \"react-router-dom\";\r\nimport Comments from \"../components/comments/comments\";\r\n\r\nconst DetailArticlePage = () => {\r\n\r\n  let { state } = useLocation();\r\n\r\n  return (\r\n    <section className=\"article-detail container\">\r\n      <div className=\"article-detail__content\">\r\n        <h1 className=\"article-detail__title\">{state.title}</h1>\r\n        <p className=\"article-detail__date\">\r\n          Дата публикации: <span>{state.date}</span>\r\n        </p>\r\n        <p className=\"article-detail__text\">{state.text}</p>\r\n        <Comments comments={state.comments} articleId={state.id}/>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default DetailArticlePage"],"names":["_ref","comments","articleId","name","setName","useState","commentText","setCommentText","dispatch","useDispatch","articles","useSelector","state","curComments","length","i","id","useEffect","elements","arr","map","_ref2","text","_jsxs","className","children","_jsx","renderComments","addCommentClass","onSubmit","e","preventDefault","obj","commentCreated","type","required","placeholder","value","onChange","target","DetailArticlePage","useLocation","title","date","Comments"],"sourceRoot":""}